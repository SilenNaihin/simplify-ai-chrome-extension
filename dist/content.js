(()=>{"use strict";chrome.runtime.onMessage.addListener(((o,n,d)=>{var s;if("SIMPLIFY_GPT"===o.type){e(),console.log(o.data);const n=null===(s=null===document||void 0===document?void 0:document.getSelection())||void 0===s?void 0:s.getRangeAt(0),d=document.createElement("span");d.style.backgroundColor="yellow",n&&(d.appendChild(n.extractContents()),n.insertNode(d)),console.log("message",o.data.info.selectionText),chrome.runtime.sendMessage(o.data.tabID,{type:"EXPLANATION",data:{text:o.data.info.selectionText}},(e=>{console.log("response",e),t()}))}}));const e=()=>{const e=document.createElement("style");e.id="corsor_wait",e.innerHTML="* {cursor: wait;}",document.head.insertBefore(e,null)},t=()=>{var e;null===(e=null===document||void 0===document?void 0:document.getElementById("corsor_wait"))||void 0===e||e.remove()}})();